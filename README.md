# Packet Control Project

This project contains two tasks demonstrating eBPF programs integrated with Go:

- **Task 1**: Drop TCP packets on a specific port using XDP.
- **Task 2**: Drop packets generated by a specific process using a socket filter.

---

## Setup Locally

### Prerequisites

- Go 1.20+
- Clang/LLVM for compiling eBPF programs
- Linux system with eBPF support (WSL2 can work for testing)
- Root privileges for attaching eBPF programs

---

### Task 1: Drop TCP packets on a port

1. Navigate to the task1 directory:

```bash
cd task1
```
Compile the eBPF program using `Makefile`:
```
make
```
Run the Go program (replace <iface> with your network interface and optional port):
```
go run main.go <iface> [port]
```
Example:
```
go run main.go eth0 4040
```
Output:
```
✅ eBPF attached to eth0 — Dropping TCP packets on port 4040
Press Ctrl+C to stop...
```

Task 2: Drop packets from a process
Navigate to the task2 directory:
```
cd task2
```
Compile the eBPF program if not already compiled:
```
go run main.go <iface> <process-name>
```
Example:
```
go run main.go eth0 myprocess
```
Output:
```
Looking for process name 'myprocess' to populate the BPF map...
Found PIDs: [1234]
✅ eBPF program attached to eth0 — Allowing only port <port> for myprocess
```
